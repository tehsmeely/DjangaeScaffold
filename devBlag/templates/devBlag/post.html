{% extends 'devBlag/base.html' %}

{% load staticfiles %}

{% block headerInsert %}
	<style>
		.editButton
		{
			float: right;
			opacity: 0.5;
			margin-right: 6px;
			margin-top: 6px;
			cursor: pointer;
		}
		.editButton:hover
		{
			opacity: 1;
		}
	</style>


	<script>
		$(function(){

			$("#publishButton").click(function(){
				$.get(
					"/publishPost/",
					{"postID": $(this).attr("postID")}
				)
			});

			$(".editButton").click(function(){
				window.location = "/addPost/{{post.project.id}}/{{post.id}}";
			});



		});
	</script>
{% endblock %}


{% block container %}
	<br><br>
	
	
	<div class="post {% cycle 'round7_tr_bl' 'round7_tl_br' %}"
			style="background-color:#{{post.backgroundColour}}">
		<i class="fa fa-pencil fa-lg editButton"></i>
		<h3>{{post.title}}</h3>
		{{post.body|safe|linebreaksbr}}
		<br>
		<p>Created Date: {{post.createdDate}}</p>
		{% if post.publishedDate == none %}
			<p><button id="publishButton" postID="{{post.id}}">Publish</button></p>
		{% else %}
			<p>Published Date: {{post.publishedDate}}</p>
		{% endif %}
	</div>
	<br>


{% endblock %}